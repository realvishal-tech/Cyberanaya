import React, { useState, useEffect, useRef } from 'react';
import { Terminal, Cpu, Shield, Zap, User, CreditCard, ChevronRight, MessageSquare, X, Play, Award, MapPin, Calendar, CheckCircle, Smartphone, ArrowLeft, Clock, Briefcase, Utensils, Music, Info, Brain } from 'lucide-react';

/**
 * CYBERANAYA 3.0 - The Neural Nexus
 * A futuristic event website for LND College, Motihari
 * Organized by BCA Department
 */

// --- Components ---

// 1. Neural Background Component (Canvas) - Unchanged
const NeuralBackground = () => {
  const canvasRef = useRef(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    const ctx = canvas.getContext('2d');
    let animationFrameId;

    const resizeCanvas = () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    };

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    const particles = [];
    const particleCount = window.innerWidth < 768 ? 40 : 80;
    const connectionDistance = 150;

    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.vx = (Math.random() - 0.5) * 0.5;
        this.vy = (Math.random() - 0.5) * 0.5;
        this.size = Math.random() * 2 + 1;
        this.color = Math.random() > 0.5 ? '#00f0ff' : '#39ff14';
      }

      update() {
        this.x += this.vx;
        this.y += this.vy;
        if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
        if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
      }

      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
      }
    }

    for (let i = 0; i < particleCount; i++) {
      particles.push(new Particle());
    }

    const animate = () => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach((particle, i) => {
        particle.update();
        particle.draw();
        for (let j = i; j < particles.length; j++) {
          const dx = particles[i].x - particles[j].x;
          const dy = particles[i].y - particles[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < connectionDistance) {
            ctx.beginPath();
            ctx.strokeStyle = `rgba(0, 240, 255, ${1 - distance / connectionDistance})`;
            ctx.lineWidth = 0.5;
            ctx.moveTo(particles[i].x, particles[i].y);
            ctx.lineTo(particles[j].x, particles[j].y);
            ctx.stroke();
          }
        }
      });
      animationFrameId = requestAnimationFrame(animate);
    };
    animate();
    return () => {
      window.removeEventListener('resize', resizeCanvas);
      cancelAnimationFrame(animationFrameId);
    };
  }, []);

  return <canvas ref={canvasRef} className="fixed top-0 left-0 w-full h-full -z-10 bg-slate-950" />;
};

// 2. Glitch Text Component
const GlitchText = ({ text, className = "" }) => {
  return (
    <div className={`relative inline-block group ${className}`}>
      <span className="relative z-10">{text}</span>
      <span className="absolute top-0 left-0 -ml-0.5 translate-x-[2px] text-cyan-400 opacity-0 group-hover:opacity-70 animate-pulse z-0">{text}</span>
      <span className="absolute top-0 left-0 -ml-0.5 -translate-x-[2px] text-lime-400 opacity-0 group-hover:opacity-70 animate-pulse delay-75 z-0">{text}</span>
    </div>
  );
};

// 3. AI Chatbot (Anaya)
const AIChatbot = ({ isOpen, onClose }) => {
  const [messages, setMessages] = useState([
    { id: 1, sender: 'bot', text: 'Hello! I am Anaya, your AI concierge for Cyberanaya 3.0. How can I assist you today?' }
  ]);
  const [input, setInput] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const chatEndRef = useRef(null);

  const scrollToBottom = () => chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  useEffect(scrollToBottom, [messages]);

  const handleSend = () => {
    if (!input.trim()) return;
    const userMsg = { id: Date.now(), sender: 'user', text: input };
    setMessages(prev => [...prev, userMsg]);
    setInput('');
    setIsTyping(true);

    setTimeout(() => {
      let botText = "I'm processing that information on the neural net...";
      const lowerInput = userMsg.text.toLowerCase();

      if (lowerInput.includes('date') || lowerInput.includes('when')) {
        botText = "CYBERANAYA 3.0 is scheduled for December 24th, 2025 at 11:00 AM. Mark your calendars!";
      } else if (lowerInput.includes('register') || lowerInput.includes('sign up')) {
        botText = "Click 'START MISSION' to access the registration portal. It's a ₹400 fixed fee.";
      } else if (lowerInput.includes('food') || lowerInput.includes('party')) {
        botText = "Oh yes! We have a grand feast planned. Diverse food items to recharge your biological batteries.";
      } else if (lowerInput.includes('hackathon') || lowerInput.includes('ppt')) {
        botText = "You can choose between PPT Presentation or AI Showcase during registration.";
      } else if (lowerInput.includes('fee')) {
        botText = "The registration fee is a fixed ₹400. Payments are handled via UPI QR code.";
      }

      setMessages(prev => [...prev, { id: Date.now() + 1, sender: 'bot', text: botText }]);
      setIsTyping(false);
    }, 1500);
  };

  if (!isOpen) return null;

  return (
    <div className="fixed bottom-24 right-6 w-80 md:w-96 h-[500px] bg-slate-900/95 backdrop-blur-md border border-cyan-500/50 rounded-2xl shadow-2xl shadow-cyan-500/20 z-50 flex flex-col overflow-hidden animate-slide-up">
      <div className="p-4 bg-gradient-to-r from-cyan-900 to-slate-900 border-b border-cyan-500/30 flex justify-between items-center">
        <div className="flex items-center gap-3">
          <div className="w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center relative">
            <Cpu size={16} className="text-white animate-spin-slow" />
            <span className="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-slate-900"></span>
          </div>
          <span className="font-bold text-cyan-50">ANAYA <span className="text-xs font-normal opacity-70">v3.0</span></span>
        </div>
        <button onClick={onClose} className="text-cyan-200 hover:text-white"><X size={20} /></button>
      </div>
      <div className="flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-cyan-900">
        {messages.map((msg) => (
          <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>
            <div className={`max-w-[80%] p-3 rounded-lg text-sm ${msg.sender === 'user' ? 'bg-cyan-600 text-white rounded-tr-none' : 'bg-slate-800 text-cyan-100 border border-slate-700 rounded-tl-none'}`}>
              {msg.text}
            </div>
          </div>
        ))}
        {isTyping && (
          <div className="flex justify-start">
             <div className="bg-slate-800 p-3 rounded-lg rounded-tl-none border border-slate-700 flex gap-1">
               <span className="w-1.5 h-1.5 bg-cyan-500 rounded-full animate-bounce"></span>
               <span className="w-1.5 h-1.5 bg-cyan-500 rounded-full animate-bounce delay-100"></span>
               <span className="w-1.5 h-1.5 bg-cyan-500 rounded-full animate-bounce delay-200"></span>
             </div>
          </div>
        )}
        <div ref={chatEndRef} />
      </div>
      <div className="p-4 bg-slate-900 border-t border-slate-800 flex gap-2">
        <input 
          type="text" 
          value={input}
          onChange={(e) => setInput(e.target.value)}
          onKeyPress={(e) => e.key === 'Enter' && handleSend()}
          placeholder="Ask Anaya about protocols..."
          className="flex-1 bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-slate-700 focus:border-cyan-500 focus:outline-none"
        />
        <button onClick={handleSend} className="bg-cyan-600 hover:bg-cyan-500 text-white p-2 rounded-lg transition-colors">
          <ChevronRight size={20} />
        </button>
      </div>
    </div>
  );
};

// 4. Registration Page (Separate View)
const RegistrationPage = ({ onBack }) => {
  const [step, setStep] = useState(1);
  const [formData, setFormData] = useState({
    name: '',
    roll: '',
    college: 'LND College',
    branch: 'BCA',
    academicYear: '1st',
    semester: 'I',
    interest: 'PPT',
  });

  const totalAmount = 400;

  // Digital ID Card View
  const IDCard = () => (
    <div className="relative w-full max-w-sm aspect-[1.586] rounded-xl overflow-hidden shadow-2xl shadow-cyan-500/20 border border-slate-600 bg-slate-900 transform transition-all hover:scale-105 duration-300 mx-auto">
      <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-30"></div>
      <div className="absolute -top-10 -right-10 w-40 h-40 bg-cyan-500/20 blur-3xl rounded-full"></div>
      <div className="absolute -bottom-10 -left-10 w-40 h-40 bg-lime-500/20 blur-3xl rounded-full"></div>
      
      <div className="relative z-10 p-6 flex flex-col h-full justify-between">
        <div className="flex justify-between items-start">
          <div>
            <h3 className="text-cyan-400 font-bold tracking-widest text-xs mb-1">CYBERANAYA 3.0</h3>
            <div className="text-white text-xs opacity-70">OFFICIAL PASS</div>
          </div>
          <Cpu className="text-lime-400 animate-pulse" size={24} />
        </div>
        <div className="flex gap-4 items-center">
          <div className="w-16 h-16 bg-slate-800 rounded-lg border border-cyan-500/50 flex items-center justify-center">
            <User size={32} className="text-cyan-500" />
          </div>
          <div>
            <h2 className="text-white font-bold text-lg leading-tight uppercase truncate max-w-[180px]">
              {formData.name || "RECRUIT NAME"}
            </h2>
            <p className="text-cyan-200 text-xs font-mono mt-1">ROLL: {formData.roll || "---"}</p>
            <p className="text-slate-400 text-[10px] mt-0.5">{formData.branch} • {formData.academicYear} • Sem {formData.semester}</p>
          </div>
        </div>
        <div className="flex justify-between items-end border-t border-slate-700 pt-3">
          <div className="text-[10px] text-slate-400 font-mono">
            STATUS: <span className="text-lime-400">PENDING PAY</span><br/>
            TRACK: <span className="text-white">{formData.interest}</span>
          </div>
          <div className="bg-white p-1 rounded">
             <div className="w-8 h-8 bg-black opacity-80 grid grid-cols-4 gap-0.5 p-0.5">
               {[...Array(16)].map((_,i) => <div key={i} className={`bg-white ${Math.random() > 0.5 ? 'opacity-100' : 'opacity-0'}`}></div>)}
             </div>
          </div>
        </div>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen pt-24 pb-12 px-4 container mx-auto animate-fade-in">
      <button onClick={onBack} className="mb-8 flex items-center gap-2 text-cyan-400 hover:text-white transition-colors group">
        <ArrowLeft size={20} className="group-hover:-translate-x-1 transition-transform" /> ABORT MISSION (BACK)
      </button>

      <div className="grid lg:grid-cols-2 gap-12 items-start max-w-6xl mx-auto">
        <div className="order-2 lg:order-1 bg-slate-900/80 border border-slate-700 rounded-2xl p-8 backdrop-blur-sm">
           {step === 1 && (
             <div className="space-y-6 animate-fade-in">
               <h2 className="text-2xl font-bold text-white flex items-center gap-3">
                 <span className="flex items-center justify-center w-8 h-8 rounded bg-cyan-500 text-black text-sm">01</span>
                 ACADEMIC PROFILE
               </h2>
               
               <div className="space-y-4">
                 <div>
                   <label className="block text-slate-400 text-xs mb-1 uppercase">Full Name</label>
                   <input type="text" value={formData.name} onChange={(e) => setFormData({...formData, name: e.target.value})} 
                     className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:border-cyan-500 outline-none" placeholder="Enter Full Name" />
                 </div>
                 
                 <div className="grid grid-cols-2 gap-4">
                   <div>
                     <label className="block text-slate-400 text-xs mb-1 uppercase">Class Roll No</label>
                     <input type="text" value={formData.roll} onChange={(e) => setFormData({...formData, roll: e.target.value})} 
                       className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:border-cyan-500 outline-none" placeholder="Roll No" />
                   </div>
                   <div>
                     <label className="block text-slate-400 text-xs mb-1 uppercase">Branch</label>
                     <select value={formData.branch} onChange={(e) => setFormData({...formData, branch: e.target.value})} 
                       className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:border-cyan-500 outline-none">
                       <option>BCA</option>
                       <option>MCA</option>
                       <option>B.Sc IT</option>
                       <option>B.Tech</option>
                     </select>
                   </div>
                 </div>

                 <div className="grid grid-cols-2 gap-4">
                   <div>
                     <label className="block text-slate-400 text-xs mb-1 uppercase">Academic Year</label>
                     <select value={formData.academicYear} onChange={(e) => setFormData({...formData, academicYear: e.target.value})} 
                       className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:border-cyan-500 outline-none">
                       <option>1st Year</option>
                       <option>2nd Year</option>
                       <option>3rd Year</option>
                       <option>4th Year</option>
                     </select>
                   </div>
                   <div>
                     <label className="block text-slate-400 text-xs mb-1 uppercase">Semester</label>
                     <select value={formData.semester} onChange={(e) => setFormData({...formData, semester: e.target.value})} 
                       className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:border-cyan-500 outline-none">
                       <option>I</option>
                       <option>II</option>
                       <option>III</option>
                       <option>IV</option>
                       <option>V</option>
                       <option>VI</option>
                     </select>
                   </div>
                 </div>

                 <button onClick={() => setStep(2)} disabled={!formData.name || !formData.roll}
                   className="w-full mt-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-cyan-900/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed">
                   NEXT: MISSION SELECT <ChevronRight size={18} />
                 </button>
               </div>
             </div>
           )}

           {step === 2 && (
             <div className="space-y-6 animate-fade-in">
                <h2 className="text-2xl font-bold text-white flex items-center gap-3">
                 <span className="flex items-center justify-center w-8 h-8 rounded bg-lime-500 text-black text-sm">02</span>
                 SELECT PROTOCOL
               </h2>
               <p className="text-slate-400 text-sm">Choose your primary area of engagement.</p>
               
               <div className="grid grid-cols-2 gap-4">
                 {['PPT', 'AI'].map(type => (
                   <div key={type} onClick={() => setFormData({...formData, interest: type})}
                     className={`cursor-pointer p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${formData.interest === type ? 'bg-cyan-900/40 border-cyan-400 shadow-lg shadow-cyan-900/20' : 'bg-slate-800 border-slate-600 hover:bg-slate-700'}`}>
                     {type === 'PPT' ? <Zap className={formData.interest === 'PPT' ? 'text-cyan-400' : 'text-slate-400'} /> : <Cpu className={formData.interest === 'AI' ? 'text-lime-400' : 'text-slate-400'} />}
                     <span className={`font-bold ${formData.interest === type ? 'text-white' : 'text-slate-400'}`}>{type === 'PPT' ? 'Presentation' : 'AI Model'}</span>
                   </div>
                 ))}
               </div>

               <div className="bg-slate-950 p-4 rounded-lg border border-slate-800">
                 <div className="flex justify-between items-center text-white">
                   <span>ENTRY FEE</span>
                   <span className="text-xl font-bold text-lime-400">₹{totalAmount}</span>
                 </div>
               </div>

               <div className="flex gap-3 pt-4">
                 <button onClick={() => setStep(1)} className="px-6 py-3 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-800">Back</button>
                 <button onClick={() => setStep(3)} className="flex-1 bg-lime-600 hover:bg-lime-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-lime-900/20 flex items-center justify-center gap-2">
                   INITIALIZE PAYMENT <CreditCard size={18} />
                 </button>
               </div>
             </div>
           )}

           {step === 3 && (
             <div className="space-y-6 animate-fade-in text-center">
               <h2 className="text-2xl font-bold text-white flex items-center justify-center gap-3">
                 <span className="flex items-center justify-center w-8 h-8 rounded bg-white text-black text-sm">03</span>
                 SECURE UPLINK
               </h2>
               
               <div className="bg-white p-4 rounded-xl inline-block relative overflow-hidden group">
                 <div className="w-48 h-48 bg-slate-100 flex items-center justify-center relative">
                    <div className="absolute inset-0 grid grid-cols-6 grid-rows-6 gap-1 p-2">
                      {[...Array(36)].map((_, i) => <div key={i} className={`bg-black ${Math.random() > 0.3 ? 'opacity-100' : 'opacity-0'}`}></div>)}
                    </div>
                    <div className="absolute inset-0 flex items-center justify-center">
                       <div className="bg-white p-2 rounded-full shadow-lg"><Zap size={24} className="text-cyan-600" /></div>
                    </div>
                    <div className="absolute top-0 left-0 w-full h-1 bg-red-500 shadow-[0_0_10px_red] animate-scan"></div>
                 </div>
                 <p className="mt-2 text-black font-bold">SCAN: ₹{totalAmount}</p>
               </div>
               
               <p className="text-slate-400 text-sm">Scan with any UPI app to complete registration.</p>
               
               <button onClick={() => alert("Simulation: Registration Confirmed! Welcome to Cyberanaya.")}
                 className="w-full bg-slate-800 border border-green-500/50 text-green-400 hover:bg-green-500/10 font-bold py-3 rounded-lg transition-all flex items-center justify-center gap-2">
                 <CheckCircle size={18} /> CONFIRM TRANSACTION
               </button>
             </div>
           )}
        </div>

        <div className="order-1 lg:order-2 flex flex-col items-center justify-center h-full">
           <h3 className="text-cyan-400 font-mono tracking-widest text-sm mb-6 animate-pulse">LIVE PREVIEW GENERATING...</h3>
           <IDCard />
           <div className="mt-8 text-center text-slate-500 text-xs max-w-xs mx-auto">
             * This ID card will be your access key to the Neural Nexus. Ensure all data is accurate before encryption.
           </div>
        </div>
      </div>
    </div>
  );
};

// 5. Protocols Page (New)
const ProtocolsPage = ({ onBack }) => {
  return (
    <div className="min-h-screen pt-24 pb-12 px-6 container mx-auto animate-fade-in">
      <button onClick={onBack} className="mb-8 flex items-center gap-2 text-lime-400 hover:text-white transition-colors group">
        <ArrowLeft size={20} className="group-hover:-translate-x-1 transition-transform" /> RETURN TO BASE
      </button>

      <div className="max-w-5xl mx-auto space-y-12">
         <div className="border-l-4 border-lime-400 pl-6">
           <h1 className="text-4xl md:text-6xl font-bold text-white mb-2">OPERATIONAL <br/><span className="text-lime-400">PROTOCOLS</span></h1>
           <p className="text-slate-400 font-mono">MANDATORY GUIDELINES FOR ALL UNITS</p>
         </div>

         <div className="grid md:grid-cols-2 gap-6">
            <div className="bg-slate-900/80 border border-slate-700 p-8 rounded-2xl hover:border-cyan-500 transition-colors group">
               <Clock className="text-cyan-400 mb-4 group-hover:scale-110 transition-transform" size={40} />
               <h3 className="text-2xl font-bold text-white mb-3">TEMPORAL SYNC</h3>
               <p className="text-slate-400 leading-relaxed">
                 All operatives must synchronize arrival at LND College coordinates by <span className="text-white font-bold border-b border-cyan-500">11:00 AM</span> sharp. Latency (lateness) will result in mission lag.
               </p>
            </div>

            <div className="bg-slate-900/80 border border-slate-700 p-8 rounded-2xl hover:border-purple-500 transition-colors group">
               <Briefcase className="text-purple-400 mb-4 group-hover:scale-110 transition-transform" size={40} />
               <h3 className="text-2xl font-bold text-white mb-3">TASK EXECUTION</h3>
               <p className="text-slate-400 leading-relaxed">
                 Payload delivery is mandatory. Every unit must bring their assigned task, project, or presentation. No empty-handed deployment allowed.
               </p>
            </div>

            <div className="bg-slate-900/80 border border-slate-700 p-8 rounded-2xl hover:border-lime-500 transition-colors group">
               <Utensils className="text-lime-400 mb-4 group-hover:scale-110 transition-transform" size={40} />
               <h3 className="text-2xl font-bold text-white mb-3">NUTRITIONAL SUPPLY</h3>
               <p className="text-slate-400 leading-relaxed">
                 Energy levels must be maintained. A <span className="text-lime-400">Grand Feast</span> has been initialized with multiple food modules. Eat well, process better.
               </p>
            </div>

             <div className="bg-slate-900/80 border border-slate-700 p-8 rounded-2xl hover:border-pink-500 transition-colors group">
               <Music className="text-pink-400 mb-4 group-hover:scale-110 transition-transform" size={40} />
               <h3 className="text-2xl font-bold text-white mb-3">SOCIAL RECHARGE</h3>
               <p className="text-slate-400 leading-relaxed">
                 Mandatory enjoyment protocol enabled. Post-mission, engage in social networking and celebrations. Maximum vibes required.
               </p>
            </div>
         </div>

         <div className="bg-slate-900/60 p-8 rounded-xl border border-dashed border-slate-600 font-mono text-sm text-cyan-300 flex gap-4">
           <Info className="flex-shrink-0" />
           <div>
             <p className="mb-2 font-bold">{'>'} SYSTEM_MESSAGE_FROM_CORE:</p>
             <p className="italic opacity-80">
               "This isn't just an event; it's a convergence of minds. Whether you are coding AI or presenting the next big idea, remember that innovation lives in the attempt. Come prepared, eat well, and let's rewrite the future code of Bihar together. See you on the grid."
             </p>
             <p className="mt-2 text-right opacity-60">- Anaya (System Admin)</p>
           </div>
         </div>
      </div>
    </div>
  );
};


// --- Main App Component ---

const App = () => {
  const [isChatOpen, setIsChatOpen] = useState(false);
  const [view, setView] = useState('landing'); // 'landing', 'register', 'protocols'
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => setScrolled(window.scrollY > 50);
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <div className="min-h-screen text-slate-200 font-sans selection:bg-cyan-500/30 selection:text-cyan-200">
      <NeuralBackground />

      {/* Navbar - Conditional based on view */}
      {view === 'landing' && (
        <nav className={`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${scrolled ? 'bg-slate-950/90 backdrop-blur-md border-b border-cyan-900/30 py-3' : 'bg-transparent py-6'}`}>
          <div className="container mx-auto px-6 flex justify-between items-center">
            <div className="flex items-center gap-2 group cursor-pointer">
              <div className="relative">
                <div className="absolute inset-0 bg-cyan-500 blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
                <Cpu size={32} className="text-cyan-400 relative z-10" />
              </div>
              <div className="flex flex-col">
                <GlitchText text="CYBERANAYA" className="text-xl font-bold tracking-wider text-white" />
                <span className="text-[10px] text-cyan-300 tracking-[0.2em]">VERSION 3.0</span>
              </div>
            </div>
            <div className="hidden md:flex gap-8 text-sm font-medium text-slate-400">
              <a href="#features" className="hover:text-cyan-400 transition-colors">FEATURES</a>
              <button onClick={() => setView('protocols')} className="hover:text-cyan-400 transition-colors">PROTOCOLS</button>
              <a href="#guests" className="hover:text-cyan-400 transition-colors">GUESTS</a>
            </div>
            <button 
              onClick={() => setView('register')}
              className="bg-cyan-500/10 border border-cyan-500 text-cyan-400 px-6 py-2 rounded-full font-mono text-sm hover:bg-cyan-500 hover:text-black transition-all shadow-[0_0_15px_rgba(6,182,212,0.2)] hover:shadow-[0_0_25px_rgba(6,182,212,0.6)]"
            >
              INITIALIZE_REG
            </button>
          </div>
        </nav>
      )}

      {/* View Routing */}
      {view === 'register' && <RegistrationPage onBack={() => setView('landing')} />}
      
      {view === 'protocols' && <ProtocolsPage onBack={() => setView('landing')} />}

      {view === 'landing' && (
        <>
          {/* Hero Section */}
          <section className="relative min-h-screen flex items-center pt-20 overflow-hidden">
            <div className="container mx-auto px-6 relative z-10 grid md:grid-cols-2 gap-12 items-center">
              <div className="space-y-6 animate-fade-in-up">
                <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-800/50 border border-slate-700 text-xs text-lime-400 font-mono mb-4">
                  <span className="w-2 h-2 rounded-full bg-lime-500 animate-pulse"></span>
                  SYSTEM ONLINE: DEC 24 • 11:00 AM
                </div>
                <p className="font-bold text-cyan-400 tracking-widest text-sm uppercase mb-2">
                  ORGANISED BY BCA DEPARTMENT
                </p>
                <h1 className="text-5xl md:text-7xl font-bold leading-tight">
                  BEYOND <br/>
                  <span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 animate-gradient-x">
                    HUMAN INTELLIGENCE
                  </span>
                </h1>
                <p className="text-lg text-slate-400 max-w-lg leading-relaxed border-l-2 border-cyan-500/30 pl-4">
                  Join the BCA Department of LND College for the ultimate tech convergence. 
                  Experience the future of code, AI, and digital creativity.
                </p>
                <div className="flex gap-4 pt-4">
                  <button 
                    onClick={() => setView('register')}
                    className="bg-cyan-500 text-black font-bold px-8 py-4 rounded-lg hover:scale-105 transition-transform shadow-[0_0_30px_rgba(6,182,212,0.4)] flex items-center gap-2"
                  >
                    <Play size={20} fill="black" /> START MISSION
                  </button>
                  <button 
                    onClick={() => setView('protocols')}
                    className="border border-slate-600 text-white px-8 py-4 rounded-lg hover:bg-slate-800 transition-colors"
                  >
                    VIEW PROTOCOLS
                  </button>
                </div>
              </div>
              
              {/* Hero Visual */}
              <div className="relative h-[400px] flex items-center justify-center animate-float">
                 <div className="absolute w-64 h-64 bg-cyan-500/20 rounded-full blur-[100px] animate-pulse"></div>
                 <div className="relative w-64 h-64 perspective-1000">
                    <div className="absolute inset-0 border-2 border-cyan-500/30 rounded-full animate-spin-slow-reverse" style={{ transform: 'rotateX(60deg)' }}></div>
                    <div className="absolute inset-0 border-2 border-lime-500/30 rounded-full animate-spin-slow" style={{ transform: 'rotateY(60deg)' }}></div>
                    <div className="absolute inset-0 border border-white/10 rounded-full grid place-items-center">
                       <Shield size={64} className="text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]" />
                    </div>
                    <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-4 w-4 h-4 bg-cyan-400 rounded-full shadow-[0_0_10px_cyan] animate-orbit"></div>
                 </div>
              </div>
            </div>
          </section>

          {/* Features Section */}
          <section id="features" className="py-24 bg-slate-900/50 relative">
            <div className="container mx-auto px-6">
              <div className="text-center mb-16">
                <h2 className="text-3xl font-bold text-white mb-4"><span className="text-cyan-400">AI-POWERED</span> MODULES</h2>
                <p className="text-slate-400 max-w-xl mx-auto">Interact with our neural subsystems designed to enhance your experience.</p>
              </div>

              <div className="grid md:grid-cols-3 gap-8">
                {[
                  { 
                    icon: <MessageSquare className="text-cyan-400" />, 
                    title: "AI Concierge", 
                    desc: "Meet Anaya, our event intelligence. Ask her anything about schedules or rules.",
                    color: "cyan",
                    borderColor: "border-cyan-500/30 hover:border-cyan-500",
                    shadowColor: "shadow-[0_0_15px_rgba(6,182,212,0.3)]",
                    animation: "animate-glow-cyan"
                  },
                  { 
                    icon: <Zap className="text-lime-400" />, 
                    title: "Project Matcher", 
                    desc: "Input your skills, and our algorithm will assign you the perfect competition squad.",
                    color: "lime",
                    borderColor: "border-lime-500/30 hover:border-lime-500",
                    shadowColor: "shadow-[0_0_15px_rgba(132,204,22,0.3)]",
                    animation: "animate-glow-lime"
                  },
                  { 
                    icon: <Brain className="text-pink-400" />, 
                    title: "ML & Self-Awareness", 
                    desc: "Dive into deep learning algorithms that mimic consciousness. Machine Learning (ML) enables systems to learn from data, while Self-Awareness explores the frontier where AI understands its own existence.",
                    color: "pink",
                    borderColor: "border-pink-500/30 hover:border-pink-500",
                    shadowColor: "shadow-[0_0_15px_rgba(236,72,153,0.3)]",
                    animation: "animate-glow-pink"
                  }
                ].map((feature, idx) => (
                  <div 
                    key={idx} 
                    className={`group p-8 rounded-2xl bg-slate-800/40 border transition-all hover:-translate-y-2 hover:shadow-[0_10px_30px_rgba(0,0,0,0.5)] ${feature.borderColor} ${feature.animation}`}
                  >
                    <div className={`w-14 h-14 bg-slate-900 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform border border-slate-700 ${feature.borderColor} ${feature.shadowColor}`}>
                      {feature.icon}
                    </div>
                    <h3 className="text-xl font-bold text-white mb-3">{feature.title}</h3>
                    <p className="text-slate-400 text-sm leading-relaxed">{feature.desc}</p>
                  </div>
                ))}
              </div>
            </div>
          </section>

          {/* Distinguished Guests */}
          <section id="guests" className="py-24 relative overflow-hidden">
            <div className="absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-cyan-900/10 to-transparent"></div>
            <div className="container mx-auto px-6 relative z-10">
              <h2 className="text-3xl font-bold text-white mb-12 border-l-4 border-lime-500 pl-4">DISTINGUISHED <br/> LEADERSHIP</h2>
              
              <div className="grid md:grid-cols-2 gap-12">
                {/* Guest 1 */}
                <div className="relative group">
                  <div className="absolute inset-0 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform opacity-70 blur-sm"></div>
                  <div className="relative bg-slate-900 border border-slate-700 p-8 rounded-2xl flex items-center gap-6 overflow-hidden">
                     <div className="w-24 h-24 rounded-full bg-slate-700 flex-shrink-0 border-2 border-cyan-400 overflow-hidden">
                       <img src="/api/placeholder/150/150" alt="VC" className="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity" />
                     </div>
                     <div>
                       <span className="text-cyan-400 text-xs font-bold tracking-widest uppercase">Chief Guest</span>
                       <h3 className="text-xl font-bold text-white mt-1">Prof. (Dr.) Dinesh Chandra Rai</h3>
                       <p className="text-slate-400 text-sm mt-1">Hon’ble Vice-Chancellor<br/>B.R.A. Bihar University</p>
                     </div>
                     <QuoteIcon className="absolute top-4 right-4 text-slate-800 w-16 h-16 transform rotate-180" />
                  </div>
                </div>

                {/* Guest 2 */}
                <div className="relative group">
                   <div className="absolute inset-0 bg-gradient-to-r from-lime-500 to-green-600 rounded-2xl transform -rotate-1 group-hover:-rotate-2 transition-transform opacity-70 blur-sm"></div>
                   <div className="relative bg-slate-900 border border-slate-700 p-8 rounded-2xl flex items-center gap-6">
                     <div className="w-24 h-24 rounded-full bg-slate-700 flex-shrink-0 border-2 border-lime-400 overflow-hidden">
                        <img src="/api/placeholder/150/150" alt="Principal" className="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity" />
                     </div>
                     <div>
                       <span className="text-lime-400 text-xs font-bold tracking-widest uppercase">Patron</span>
                       <h3 className="text-xl font-bold text-white mt-1">Dr. Mrigendra Kumar</h3>
                       <p className="text-slate-400 text-sm mt-1">Principal<br/>L.N.D. College, Motihari</p>
                     </div>
                   </div>
                </div>
              </div>
            </div>
          </section>

          {/* Footer */}
          <footer className="bg-black border-t border-slate-800 py-12">
            <div className="container mx-auto px-6 grid md:grid-cols-4 gap-8">
               <div className="col-span-1 md:col-span-2">
                 <div className="flex items-center gap-2 mb-4">
                   <Cpu className="text-cyan-500" />
                   <span className="text-xl font-bold text-white">CYBERANAYA</span>
                 </div>
                 <p className="text-slate-500 text-sm max-w-xs">
                   The annual technical convergence of LND College. Fostering innovation, code, and creativity in North Bihar.
                 </p>
               </div>
               
               <div>
                 <h4 className="text-white font-bold mb-4">COORDINATES</h4>
                 <ul className="space-y-2 text-sm text-slate-400">
                   <li className="flex items-center gap-2"><MapPin size={14} className="text-lime-400" /> LND College, Motihari</li>
                   <li className="flex items-center gap-2"><Calendar size={14} className="text-lime-400" /> Dec 24, 2025 • 11:00 AM</li>
                   <li className="flex items-center gap-2"><Smartphone size={14} className="text-lime-400" /> +91 98765 43210</li>
                 </ul>
               </div>

               <div>
                 <h4 className="text-white font-bold mb-4">CONNECT</h4>
                 <div className="flex gap-4">
                   {['Instagram', 'LinkedIn', 'Twitter'].map(social => (
                     <a key={social} href="#" className="w-10 h-10 rounded-full bg-slate-900 flex items-center justify-center text-slate-400 hover:bg-cyan-500 hover:text-black transition-all">
                       {social[0]}
                     </a>
                   ))}
                 </div>
               </div>
            </div>
            <div className="text-center text-slate-600 text-xs mt-12 border-t border-slate-900 pt-8">
              © 2025 BCA Department, LND College. System Powered by React & Neural-Net v1.0.
            </div>
          </footer>
        </>
      )}

      {/* Floating Chat Button (Always Visible) */}
      <button 
        onClick={() => setIsChatOpen(!isChatOpen)}
        className="fixed bottom-6 right-6 bg-cyan-500 hover:bg-cyan-400 text-black p-4 rounded-full shadow-[0_0_20px_rgba(6,182,212,0.4)] transition-all z-50 animate-bounce-slow"
      >
        <MessageSquare size={24} fill="currentColor" />
      </button>

      {/* Chatbot Interface */}
      <AIChatbot isOpen={isChatOpen} onClose={() => setIsChatOpen(false)} />

      {/* Global CSS */}
      <style>{`
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes orbit { from { transform: rotate(0deg) translateX(100px) rotate(0deg); } to { transform: rotate(360deg) translateX(100px) rotate(-360deg); } }
        @keyframes scan { 0% { top: 0; } 50% { top: 100%; } 100% { top: 0; } }
        
        @keyframes glow-cyan {
           0%, 100% { box-shadow: 0 0 5px #06b6d4, 0 0 10px #06b6d4; }
           50% { box-shadow: 0 0 20px #06b6d4, 0 0 30px #06b6d4; }
        }
        @keyframes glow-lime {
           0%, 100% { box-shadow: 0 0 5px #84cc16, 0 0 10px #84cc16; }
           50% { box-shadow: 0 0 20px #84cc16, 0 0 30px #84cc16; }
        }
        @keyframes glow-pink {
           0%, 100% { box-shadow: 0 0 5px #ec4899, 0 0 10px #ec4899; }
           50% { box-shadow: 0 0 20px #ec4899, 0 0 30px #ec4899; }
        }

        .animate-glow-cyan { animation: glow-cyan 3s infinite ease-in-out; }
        .animate-glow-lime { animation: glow-lime 3s infinite ease-in-out; }
        .animate-glow-pink { animation: glow-pink 3s infinite ease-in-out; }

        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-orbit { animation: orbit 4s linear infinite; }
        .animate-spin-slow { animation: spin 8s linear infinite; }
        .animate-spin-slow-reverse { animation: spin 10s linear infinite reverse; }
        .animate-scan { animation: scan 2s linear infinite; }
        .perspective-1000 { perspective: 1000px; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `}</style>
    </div>
  );
};

const QuoteIcon = ({ className }) => (
  <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path d="M14.017 21L14.017 18C14.017 16.8954 14.9124 16 16.017 16H19.017C19.5693 16 20.017 15.5523 20.017 15V9C20.017 8.44772 19.5693 8 19.017 8H15.017C14.4647 8 14.017 7.55228 14.017 7V3H19.017C20.6739 3 22.017 4.34315 22.017 6V15C22.017 16.6569 20.6739 18 19.017 18H16.017V21H14.017ZM5.0166 21L5.0166 18C5.0166 16.8954 5.91203 16 7.0166 16H10.0166C10.5689 16 11.0166 15.5523 11.0166 15V9C11.0166 8.44772 10.5689 8 10.0166 8H6.0166C5.46432 8 5.0166 7.55228 5.0166 7V3H10.0166C11.6735 3 13.0166 4.34315 13.0166 6V15C13.0166 16.6569 11.6735 18 10.0166 18H7.0166V21H5.0166Z" />
  </svg>
);

export default App;